<VirtualHost *:80>
	ServerName coge
	ServerAdmin webmasterl@localhost
	DocumentRoot /home/production/coge/web
	PerlOptions +Parent	
	PerlSwitches -I/home/production/coge/modules/perl/lib/perl5

	<Files *.pl>	
		SetHandler perl-script
		PerlResponseHandler ModPerl::Registry
		Options +ExecCGI
		PerlSendHeader On
	</Files>

	<Directory />	      
		Options FollowSymLinks
		AllowOverride None
	</Directory>

	Alias /gobe/ /home/production/coge/web/gobe/
	<Directory /home/production/coge/web/gobe/>
		Options +FollowSymLinks +ExecCGI
		AddHandler wsgi-script .py
	</Directory>

	<Directory /home/production/coge>	     
		Options Includes ExecCGI FollowSymLinks
		AllowOverride All
		SetEnv COGE_HOME "/home/production/coge/"   
		Require all granted
	</Directory>

	<Directory /home/production/coge/web/services/>
		Options +FollowSymLinks +ExecCGI
		AddHandler wsgi-script .py
	</Directory>

	<Directory /home/production/coge/web/services/JBrowse/JBrowse_TrackContent_WS/>
		Options +FollowSymLinks +ExecCGI
		AddHandler wsgi-script .py
	</Directory>
	ScriptAliasMatch (?i)^/coge/jex(.*) /home/production/coge/web/services/jex.py/$1
	AliasMatch (?i)^/coge(.*) /home/production/coge/web/$1
	ProxyPass /coge/api/v1/ http://localhost:3303/
	ProxyPassReverse /coge/api/v1/ http://localhost:3303/

	# ErrorLog /var/log/apache2/error.log

	# Possible values include: debug, info, notice, warn, error, crit, alert, emerg.
	# LogLevel warn

	# CustomLog /var/log/apache2/access.log combined

	ErrorLog ${APACHE_LOG_DIR}/error.log
	CustomLog ${APACHE_LOG_DIR}/access.log combined

	ServerSignature On
</VirtualHost>